<!DOCTYPE html>
<html>
<head>
  <!--
    redirect users to the https version of the website.
    but: only check when on the production domain, as set in _config.yml.
   -->
  <script type="text/javascript">
    var enforce = "syntaxsugar.github.io";
    if ((enforce == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
  </script>

    <meta charset="utf-8">
    <title>syntaxsugar.github.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
    <link href="https://syntaxsugar.github.io/theme/css/github.css" rel="stylesheet" media="screen">
    <link href="https://syntaxsugar.github.io/theme/css/github-numbers.css" rel="stylesheet" media="screen">
    <link href="https://syntaxsugar.github.io/theme/css/styles.css" rel="stylesheet" media="screen">

    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700' rel='stylesheet' type='text/css' >
    <link href='http://fonts.googleapis.com/css?family=Cantora+One' rel='stylesheet' type='text/css'>

        <link href="https://syntaxsugar.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="syntaxsugar.github.io Atom Feed" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9025902-65', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="miniBio">
        <div class="container">
            <a class="brand" href="/" title="syntaxsugar.github.io"><img src="https://syntaxsugar.github.io/theme/img/avatar.jpg" /></a>
            <span class="miniBioText">A Daily PHP programmer, a nightly Python/Django developer</span>
        </div>
    </div>

    <div class="container">
<div class="container">
    <div class="row">
        <div class="span12 articleDetailHeadline">
            <h1>Create PyCharm package on Ubuntu</h1>
            <h2></h2>
        </div>
    </div>
</div>

<div class="container">
    <div class="row articleDetail">
        <div class="span3 articleInfo light">
<p><i class="icon-calendar"></i>&nbsp;Tue, 13 May 2014</p>
    <p class="articleTags">
        <i class="icon-tag"></i>&nbsp;tags:
            <a href="https://syntaxsugar.github.io/tag/ubuntu.html">Ubuntu</a>
            <a href="https://syntaxsugar.github.io/tag/pycharm.html">PyCharm</a>
    </p>
        </div>
        <div class="span8 articleDetailContent">
            <h2>Install requirements</h2>
<div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install build-essential devscripts debhelper
</pre></div>


<h2>Setting up the directory structure</h2>
<ul>
<li>
<p>Create the top directory</p>
<p>Create a directory to work in first. We want to package the PyCharm app, so we'll chose a 
fifting name for it: <strong>pycharm</strong>.</p>
<p>Make a directory called <em>pycharm</em> using:</p>
<div class="highlight"><pre><span class="nv">$ </span>mkdir -p ~/packages/pycharm
</pre></div>


</li>
<li>
<p>Get the upstream tarball</p>
<div class="highlight"><pre><span class="nv">$ </span>wget -O ~/packages/pycharm/pycharm-professional-3.1.3.tar.gz  http://download.jetbrains.com/python/pycharm-professional-3.1.3.tar.gz
</pre></div>


</li>
<li>
<p>Rename the upstream tarball</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/packages/pycharm        
<span class="nv">$ </span>mv pycharm-professional-3.1.3.tar.gz pycharm_3.1.3.orig.tar.gz
</pre></div>


</li>
<li>
<p>Unpack the upstream tarball</p>
<p>Directory should be named <code>pycharm-3.1.3</code>        </p>
<div class="highlight"><pre><span class="nv">$ </span>tar xzf pycharm_3.1.3.orig.tar.gz
</pre></div>


</li>
<li>
<p>Add the Debian packagin files</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>pycharm-3.1.3
<span class="nv">$ </span>mkdir debian
<span class="nv">$ </span>dch --create -v 3.1.3-1 --package pycharm
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;9&quot;</span> &gt;&gt; debian/compat
</pre></div>


</li>
<li>
<p>Create <code>debian/control</code> file</p>
<p>https://raw.githubusercontent.com/ckorn/GetDeb/bdebdc5d3711f73fd630df1f14752a570f50d3d1/pycharm/control</p>
<div class="highlight"><pre><span class="nv">$ </span>touch debian/copyright
</pre></div>


</li>
<li>
<p><strong>Create the packaging dir</strong></p>
</li>
</ul>
<p>In the new <em>pycharm</em> directory create another directory to place the package files you'll be
creating. The name of this directory should consider with the version of the package using a 
dash between the package name and the package version. The resulting directory is <em>pycharm/pycharm-3.1.3</em></p>
<ul>
<li><strong>Create the original files dir</strong></li>
</ul>
<p>In the new <em>pycharm-3.1.3</em> directory extract the downloaded archive into a new <em>pycharm_3.1.3</em> subdirectory.</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">paiti</span><span class="o">/</span><span class="n">Downloads</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">pycharm</span><span class="o">/</span><span class="n">pycharm</span><span class="o">-</span><span class="mf">3.1.3</span>
<span class="err">$</span> <span class="n">wget</span> <span class="n">http</span><span class="o">:</span><span class="c1">//download.jetbrains.com/python/pycharm-professional-3.1.3.tar.gz</span>
<span class="err">$</span> <span class="n">tar</span> <span class="n">xvzf</span> <span class="n">pycharm</span><span class="o">-</span><span class="n">professional</span><span class="o">-</span><span class="mf">3.1.3</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="err">$</span> <span class="n">mv</span> <span class="n">pycharm</span><span class="o">-</span><span class="mf">3.1.3</span><span class="o">/</span> <span class="n">pycharm_3</span><span class="mf">.1.3</span><span class="o">/</span>
<span class="err">$</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">pycharm</span><span class="o">-</span><span class="n">professional</span><span class="o">-</span><span class="mf">3.1.3</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
</pre></div>


<h2>Debianizing the package</h2>
<ul>
<li><strong>Create the package control files.</strong></li>
</ul>
<p>In the <code>pycharm/pycharm-3.1.3/</code>' directory run <code>dh_make --single --native</code>. The dh_make command will create the
debian directory and populate the example templates.</p>
<ul>
<li><strong>Remove the unnecessary files.</strong></li>
</ul>
<p>For this application, in the <em>debian</em> directory remove all files with the <em>.ex</em> and <em>.EX</em> extensions
and all <em>README.</em> files as they are not needed for the native application being built.</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">paiti</span><span class="o">/</span><span class="n">Downloads</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">pycharm</span><span class="o">/</span><span class="n">pycharm</span><span class="o">-</span><span class="mf">3.1.3</span>
<span class="err">$</span> <span class="n">cd</span>  <span class="n">debian</span><span class="o">/</span>
<span class="err">$</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">*</span><span class="p">.</span><span class="n">ex</span> <span class="o">*</span><span class="p">.</span><span class="n">EX</span> <span class="n">README</span><span class="p">.</span><span class="o">*</span>
</pre></div>


<ul>
<li><strong>Create the installation script.</strong></li>
</ul>
<p>During installation of the application the files need to be copied into the <em>/opt/jetbrains/pycharm</em> directory.
Edit (Create a new file) <em>pycharm/pycharm-3.1.3/debian/install</em> adding the lines below to place the
files in their proper location during installation.</p>
<div class="highlight"><pre><span class="n">pycharm_3</span><span class="mf">.1.3</span><span class="o">/*</span> <span class="n">opt</span><span class="o">/</span><span class="n">jetbrains</span><span class="o">/</span><span class="n">pycharm</span>
</pre></div>


<h2>building the package</h2>
<ul>
<li><strong>Update the changelog.</strong></li>
</ul>
<p>Ensure you are in the <em>pycharm/pycharm-3.1.3/</em> directory and run <code>dch</code> to update the <em>changelog</em>.</p>
<p>The package name at the top of the <em>changelog</em> should be <code>pycharm (3.1.3-0ubuntu1) UNRELEASED; urgency=medium</code></p>
<p><strong>3.1.3-0ubuntu1</strong> - means that there was not a debian package yet and this is the 1st ubuntu version of
package 3.1.3 <a href="http://www.ducea.com/2006/06/17/ubuntu-package-version-naming-explanation/">ubuntu package version naming</a></p>
<ol>
<li>
<p><strong>Build the binary package</strong></p>
<p>From the directory <em>pycharm/pycharm-3.1.3</em> run <code>debuild -b -uc -us</code> to build unsigned binary package.</p>
</li>
<li>
<p><strong>Check out the output</strong></p>
<p>The output is a file named <em>pycharm_3.1.3-0ubuntu1_amd64.deb</em></p>
</li>
<li>
<p><strong>Install and verify the binary package.</strong></p>
<p>In order to verify the build worked run:</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="n">pycharm_3</span><span class="mf">.1.3</span><span class="n">_amd64</span><span class="p">.</span><span class="n">deb</span>
</pre></div>


</li>
</ol>
        </div>
    </div>
</div>

<div class="container">
    <div class="row comments">
        <div class="span3">&nbsp;</div>
        <div class="span6">
        </div>
    </div>
</div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="span6">
                    <p><strong>Jaromir Fojtu</strong>. He is doing web development since 2000 and he is in love with Python & Django.</p>
                </div>
                <div class="span4">
                        <p><strong>Say hi!</strong></p>
                        <ul class="socialLinks">
                                <li><a href="https://github.com/syntaxsugar"><span class="symbol">&#xe037;</span> Github</a></li>
                                <li><a href="https://plus.google.com/118025323950244875124/about"><span class="symbol">&#xe039;</span> Google Plus</a></li>
                                <li><a href="https://twitter.com/jaromirfojtu"><span class="symbol">&#xe086;</span> Twitter</a></li>
                                <li><a href="https://facebook.com/paiti"><span class="symbol">&#xe027;</span> Facebook</a></li>
                        </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>