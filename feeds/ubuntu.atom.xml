<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>SyntaxSugar</title><link href="http://syntaxsugar.github.io/" rel="alternate"></link><link href="http://syntaxsugar.github.io/feeds/ubuntu.atom.xml" rel="self"></link><id>http://syntaxsugar.github.io/</id><updated>2014-05-13T22:30:00+02:00</updated><entry><title>Create PyCharm package on Ubuntu</title><link href="http://syntaxsugar.github.io/posts/2014/05/create-pycharm-package-on-ubuntu/" rel="alternate"></link><updated>2014-05-13T22:30:00+02:00</updated><author><name>Jaromir Fojtu</name></author><id>tag:syntaxsugar.github.io,2014-05-13:posts/2014/05/create-pycharm-package-on-ubuntu/</id><summary type="html">&lt;h2&gt;Install all the packages needed for creating a .deb package&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;essential&lt;/span&gt; &lt;span class="n"&gt;autoconf&lt;/span&gt; &lt;span class="n"&gt;automake&lt;/span&gt; &lt;span class="n"&gt;autotools&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt; &lt;span class="n"&gt;dh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;debhelper&lt;/span&gt; &lt;span class="n"&gt;devscripts&lt;/span&gt; &lt;span class="n"&gt;fakeroot&lt;/span&gt; &lt;span class="n"&gt;xutils&lt;/span&gt; &lt;span class="n"&gt;lintian&lt;/span&gt; &lt;span class="n"&gt;pbuilder&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;packaging&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Setting up the directory structure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create the top directory&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create a directory to work in first. We want to package the PyCharm app, so we'll chose a 
fifting name for it: &lt;strong&gt;pycharm&lt;/strong&gt; - Make a directory called &lt;em&gt;pycharm&lt;/em&gt; using:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;mkdir&lt;/span&gt; &lt;span class="n"&gt;pycharm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create the packaging dir&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the new &lt;em&gt;pycharm&lt;/em&gt; directory create another directory to place the package files you'll be
creating. The name of this directory should consider with the version of the package using a 
dash between the package name and the package version. The resulting directory is &lt;em&gt;pycharm/pycharm-3.1.3&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create the original files dir&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the new &lt;em&gt;pycharm-3.1.3&lt;/em&gt; directory extract the downloaded archive into a new &lt;em&gt;pycharm_3.1.3&lt;/em&gt; subdirectory.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;pwd&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paiti&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Downloads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;packages&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.1.3&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;wget&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//download.jetbrains.com/python/pycharm-professional-3.1.3.tar.gz&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;tar&lt;/span&gt; &lt;span class="n"&gt;xvzf&lt;/span&gt; &lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;professional&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.1.3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;mv&lt;/span&gt; &lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.1.3&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;pycharm_3&lt;/span&gt;&lt;span class="mf"&gt;.1.3&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;rm&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;rf&lt;/span&gt; &lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;professional&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.1.3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Debianizing the package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create the package control files.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the &lt;code&gt;pycharm/pycharm-3.1.3/&lt;/code&gt;' directory run &lt;code&gt;dh_make --single --native&lt;/code&gt;. The dh_make command will create the
debian directory and populate the example templates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Remove the unnecessary files.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For this application, in the &lt;em&gt;debian&lt;/em&gt; directory remove all files with the &lt;em&gt;.ex&lt;/em&gt; and &lt;em&gt;.EX&lt;/em&gt; extensions
and all &lt;em&gt;README.&lt;/em&gt; files as they are not needed for the native application being built.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;pwd&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paiti&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Downloads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;packages&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pycharm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.1.3&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;cd&lt;/span&gt;  &lt;span class="n"&gt;debian&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;rm&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;rf&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ex&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EX&lt;/span&gt; &lt;span class="n"&gt;README&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create the installation script.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;During installation of the application the files need to be copied into the &lt;em&gt;/opt/jetbrains/pycharm&lt;/em&gt; directory.
Edit (Create a new file) &lt;em&gt;pycharm/pycharm-3.1.3/debian/install&lt;/em&gt; adding the lines below to place the
files in their proper location during installation.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;pycharm_3&lt;/span&gt;&lt;span class="mf"&gt;.1.3&lt;/span&gt;&lt;span class="o"&gt;/*&lt;/span&gt; &lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;jetbrains&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pycharm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;building the package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Update the changelog.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ensure you are in the &lt;em&gt;pycharm/pycharm-3.1.3/&lt;/em&gt; directory and run &lt;code&gt;dch&lt;/code&gt; to update the &lt;em&gt;changelog&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The package name at the top of the &lt;em&gt;changelog&lt;/em&gt; should be &lt;code&gt;pycharm (3.1.3-0ubuntu1) UNRELEASED; urgency=medium&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.1.3-0ubuntu1&lt;/strong&gt; - means that there was not a debian package yet and this is the 1st ubuntu version of
package 3.1.3 &lt;a href="http://www.ducea.com/2006/06/17/ubuntu-package-version-naming-explanation/"&gt;ubuntu package version naming&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Build the binary package&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;From the directory &lt;em&gt;pycharm/pycharm-3.1.3&lt;/em&gt; run &lt;code&gt;debuild -b -uc -us&lt;/code&gt; to build unsigned binary package.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Check out the output&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The output is a file named &lt;em&gt;pycharm_3.1.3-0ubuntu1_amd64.deb&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Install and verify the binary package.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In order to verify the build worked run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;dpkg&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;pycharm_3&lt;/span&gt;&lt;span class="mf"&gt;.1.3&lt;/span&gt;&lt;span class="n"&gt;_amd64&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</summary><category term="Ubuntu"></category><category term="PyCharm"></category></entry></feed>